Screens:
    HomePage:
        name:"Home"
        Home:
    AddTicketPage:
        name:"addticket"
        AddTicket:
    AddResellerPage:
        name:"addreseller"
        AddReseller:
    RemoveResellerPage:
        name:"removereseller"
        RemoveReseller:
<Home>:
    orientation:"vertical"
    padding:[20,20,20,20]
    spacing:20
    BoxLayout:
        orientation:"horizontal"
        spacing:5
        size_hint:(1,.2)
        Label:
            text:"Welcome to DashBoard"
            font_size:50
            color:(1,1,1,1)
            font_name:"fonts/Super Boys.ttf"
            canvas.before:
                Color:
                    rgba:(0,0,0,1)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
        Button:
            size_hint:.07,1
            background_normal:"icons/refresh.png"
            background_down:"icons/refresh.png"
            canvas.after:
                Color:
                    rgba:(.128,.128,.128,.25)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[10]
            on_press:
                root.refresh_all_layouts()
    BoxLayout:
        orientation:"horizontal"
        spacing:20
        size_hint:1,.1
        Label:
            text:"Tickets"
            color:(1,1,1,1)
            font_size:40
            canvas.before:
                Color:
                    rgba:(.128,.128,.128,.5)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]

        Label:
            text:"Resellers"
            color:(1,1,1,1)
            font_size:40
            canvas.before:
                Color:
                    rgba:(.128,.128,.128,.5)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
        Label:
            text:"History"
            color:(1,1,1,1)
            font_size:40
            canvas.before:
                Color:
                    rgba:(.128,.128,.128,.5)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
    Menu:
    Button:
        text:"Add a Ticket"
        size_hint:1,.13
        background_color:(1,0,0,1)
        background_normal:""
        on_press:

            root.parent.manager.current="addticket"
    Button:
        size_hint:1,.13
        text:"Add a Reseller"
        background_color:(1,0,0,1)
        background_normal:""
        on_press:
            root.parent.manager.current="addreseller"
    Button:
        size_hint:1,.13
        text:"Remove a Reseller"
        background_color:(1,0,0,1)
        background_normal:""
        on_press:
            root.parent.manager.current="removereseller"
<Menu>:
    padding:[0,20,20,20]
    orientation:"horizontal"
    spacing:20
    Tickets:
        id:tickets
    Resellers:
    History:
<AddTicket>:
    orientation:"vertical"
    spacing:20
    size_hint:(.8,.8)
    pos_hint:{"center_x":.5,"center_y":.5}
    canvas.before:
        Color:
            rgba:(1,1,1,.2)
        Rectangle:
            size:self.size
            pos:root.pos
    CustomLabel:
        text:"ADD A TICKET"
        color:(1,0,0,1)
        size_hint:(1,.5)
        font_size:100
    GridLayout:
        id:input_area
        cols:2
        spacing:20
        CustomLabel:
            text:"Enter Ticket Id"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:ticket_id_ti
            on_touch_up:root.get_hash()
        CustomLabel:
            text:"Enter Ticket Price"
            color:(0,0,0,1)

        CustomColorTextInput:
            id:ticket_price_ti
            on_touch_up:root.get_hash()
        CustomLabel:
            text:"Hashed Value"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:ticket_hash
            multiline:True
            do_wrap:True
            text:""
            disabled:True
    BoxLayout:
        spacing:20
        size_hint:(1,.5)
        orientation:"horizontal"
        CustomColorButton:
            id:back_button
            text:"Back"
            on_press:
                root.parent.manager.current="Home"
                root.ids["ticket_id_ti"].text=""
                root.ids["ticket_price_ti"].text=""
                root.ids["ticket_hash"].text=""
                root.refresh_all_layouts()
        CustomColorButton:
            text:"Submit"
            on_press:
                root.refresh_all_layouts()
                root.submitted()
<AddReseller>:
    orientation:"vertical"
    spacing:20
    size_hint:(.8,.8)
    pos_hint:{"center_x":.5,"center_y":.5}
    canvas.before:
        Color:
            rgba:(1,1,1,.2)
        Rectangle:
            size:self.size
            pos:root.pos
    CustomLabel:
        text:"ADD A Reseller"
        color:(1,0,0,1)
        size_hint:(1,.5)
        font_size:100
    GridLayout:
        id:input_area
        cols:2
        spacing:20
        CustomLabel:
            text:"Enter Reseller name:"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:reseller_name
        CustomLabel:
            text:"Enter Reseller Tezos public Key:"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:reseller_account
            multiline:False
        CustomLabel:
            text:"Create A Password:"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:reseller_password
            password:True
        CustomLabel:
            text:"Reconfirm Password:"
            color:(0,0,0,1)
        CustomColorTextInput:
            id:reseller_confirmpassword
            password:True
    BoxLayout:
        spacing:20
        size_hint:(1,.5)
        orientation:"horizontal"
        CustomColorButton:
            id:back_button
            text:"Back"
            on_press:
                root.parent.manager.current="Home"
                root.ids["reseller_name"].text=""
                root.ids["reseller_account"].text=""
                root.ids["reseller_password"].text=""
                root.ids["reseller_confirmpassword"].text=""
        CustomColorButton:
            text:"Submit"
            on_press:
                root.submitted()
<RemoveReseller>:
    orientation:"vertical"
    spacing:20
    size_hint:(.8,.4)
    pos_hint:{"center_x":.5,"center_y":.5}
    canvas.before:
        Color:
            rgba:(1,1,1,1)
        Rectangle:
            size:self.size
            pos:root.pos
    CustomLabel:
        text:"REMOVE A Reseller"
        color:(1,0,0,1)
        size_hint:(1,.5)
        font_size:100
    GridLayout:
        cols:2
        spacing:20
        CustomLabel:
            text:"Select a User:"
            color:(0,0,0,1)
        Spinner:
            id:user
            background_color:(0,0,0,0)
            background_normal:""
            canvas.before:
                Color:
                    rgba:(0,0,0,1)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[80]
            text:"Select a user"
            values:root.Users
    BoxLayout:
        spacing:20
        size_hint:(1,.5)
        orientation:"horizontal"
        CustomColorButton:
            id:back_button
            text:"Back"
            on_press:
                root.parent.manager.current="Home"
                root.ids["user"].text="Select a user"
                root.backed()
        CustomColorButton:
            text:"Submit"
            on_press:
                root.submitted()
<Label,Button>:
    font_name:"fonts/OpenSans-Regular.ttf"
<RoundedLabel>
    canvas.before:
        Color:
            rgba:(0,0,0,1)
        RoundedRectangle:
            size:root.size
            pos:root.pos
            radius:[80]
<RoundedLabelExtra>:
    canvas.before:
        Color:
            rgba:(0,0,0,1)
        RoundedRectangle:
            size:self.size[0]*1.95,root.size[1]
            pos:root.pos
            radius:[15]
<CustomButton>:
    background_color:(0,0,0,0)
    background_normal:""
    color:(0,0,0,1)
    canvas.before:
        Color:
            rgba:(1,1,1,1)
        RoundedRectangle:
            size:root.size[0],self.size[1]/4
            pos:self.pos[0],self.pos[1]+self.size[1]/3+5
            radius:[20]
<CustomLabel@Label>
    font_name:"fonts/Super Boys.ttf"
<CustomColorButton@Button>:
    background_color:(0,0,0,0)
    background_normal:""
    color:(1,1,1,1)
    canvas.before:
        Color:
            rgba:(1,0,0,1)
        RoundedRectangle:
            size:root.size
            pos:self.pos
            radius:[30]
<CustomColorTextInput@TextInput>:
    background_color:(0,0,0,0)
    foreground_color:(1,0,0,1)
    font_name:"fonts/Super Boys.ttf"
    color:(1,1,1,1)
    font_size:50
    valigh:"center"
    canvas.after:
        Color:
            rgba:(1,0,0,.2)
        RoundedRectangle:
            size:root.size
            pos:self.pos[0],self.pos[1]+10
            radius:[30]
<CustomPopUp@Popup>
    separator_color:(1,0,0,1)
